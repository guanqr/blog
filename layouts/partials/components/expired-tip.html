{{ if and .Site.Params.enableExpiredTip (.Params.displayExpiredTip | default .Site.Params.displayPostExpiredTip) }}

<time id="publishTime" datetime="{{ $.PublishDate.Format "2006-1-2" }}"></time>
<div id="expiredTip"></div>

<script>
    function GetNumberOfDays(date1,date2){ // 获得天数，date1 开始日期，date2 结束日期
        var a1 = Date.parse(new Date(date1));
        var a2 = Date.parse(new Date(date2));
        var day = parseInt((a2 - a1) / (1000 * 60 * 60 * 24));// 核心：时间戳相减，然后除以天数
        return day
    };

    var date = new Date();
    var ny = date.getFullYear();
    var nm = date.getMonth() + 1;
    var nd = date.getDate();

    var a1 = document.getElementById("publishTime").dateTime;
    var a2 = ny + "-" + nm + "-" + nd;
    var num = GetNumberOfDays(a1,a2);

    var str1 = '{{ i18n "expiredTipHead"}}'
    var str2 = '{{ i18n "expiredTipTail"}}'

    document.getElementById("expiredTip").innerHTML = str1 + "&nbsp;" + num + "&nbsp;" + str2;
</script>

{{ end }}